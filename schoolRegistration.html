<!doctype html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="author" content="Sunil, Priya, Thina, saiy2k">
        <title> School Registration | Vegam 2k15</title>
        <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
        <link type="text/css" rel="stylesheet" href="vegam.css"/>
        <script type="text/javascript" src="http://www.parsecdn.com/js/parse-1.3.2.min.js"></script>

    </head>

    <body>

        <!-- Top section contains the Vegam Title and Page Title -->
        <div class="header"> 
            <h1> Vegam 2k15 </h1>
            <h3> School Registration </h3>
        </div>

        <!-- Main cotent section that contains all the page controls -->
        <div class="content">
            <div class="halfColumn" style="margin-left:33%;">
                <div class="smallLabel"> School Name    </div> <input style="width: 34%;" type="text"       id="schoolname" /> <br/> <br/>
                <div class="smallLabel"> Branch Name    </div> <input style="width: 34%;" type="text"       id="branchname" /> <br/> <br/>
                <div class="smallLabel"> Password       </div> <input style="width: 34%;" type="password"   id='password' /> <br/> <br/>
                <div class="smallLabel"> Confirm Pass   </div> <input style="width: 34%;" type="password"   id='conpass' /> <br/> <br/>
                <div class="smallLabel"> Email          </div> <input style="width: 34%;" type="text"       id='email' /> <br/> <br/>
                <div class="smallLabel"> Contact No.    </div> <input style="width: 34%;" type="text"       id='contact' /> <br/> <br/>
                <div class="smallLabel"> Address        </div> <textarea id="address" rows=3 style="width: 34%;"> </textarea> <br/> <br/>
                <div class="button" onclick="registerButtonClick()" style="margin-left:20%">Register</div>
            </div>
        </div>

        <!-- Floating logo stick to the bottom right of the screen -->
        <img class="logo" src="k.png"/>

        <!-- Footer that sticks to the bottom of the screen (not document) -->
        <p class="footer"> <a href="http://chennaisocialservice.org/"> Chennai Social Service </a> - Powered by <a href="https://plus.google.com/u/0/communities/104455776462402572964">Indian National Developers</a> </p>

</body>
</html>

<script type="text/javascript">

Parse.initialize("avx8N1dxzO7BU1QTkrSGC0ibcowObI9Q4kvikfn2", "ndSz3O9ZMkpjQtaRUrNcLOsVHfbWT9hwxaxSSgO5");

function registerButtonClick(){	
	var name            =   document.getElementById("schoolname");
	var branch          =   document.getElementById("branchname");
	var pass            =   document.getElementById("password");
	var email           =   document.getElementById("email");
	var contact         =   document.getElementById("contact");
	var address         =   document.getElementById("address");
    var nameValue       =   name.value;
    var branchValue     =   branch.value;
	var passValue       =   pass.value;
	var emailValue      =   email.value;
	var contactValue    =   contact.value;
	var addressValue    =   address.value;
	
	var schoolReg       =   new Parse.User();
	schoolReg.set("username", nameValue + ' - ' + branchValue);
	schoolReg.set("password", passValue);
	schoolReg.set("email", emailValue);;
	schoolReg.set("address", addressValue);
	schoolReg.set("contact", contactValue);;
	schoolReg.signUp(null, {
        success: function(schoolReg) {
            window.location=    "index.html";
        },
        error: function(schoolReg, error) {
            console.log(error);
            alert('Failed to create new object, with error code: ' + error.message);
        }
    });
};

function check(){

	var name = document.getElementById("username");
	var pass = document.getElementById("pass");
	var conpass = document.getElementById("conpass");
	var school = document.getElementById("school");
	var address = document.getElementById("address");
	var contact = document.getElementById("contact");
    var nameValue = name.value;
	var passValue = pass.value;
	var conpassValue = conpass.value;
	var schoolValue = school.value;
	var addressValue = address.value;
	
	var contactValue = contact.value;
	if(nameValue.length<6)
		alert("USERNAME should contain atleast 6 characters!!");
		else if(passValue.length<6)
			alert("PASSWORD should contain atleast 6 characters!!");
			else if(conpassValue != passValue)
				alert("PASSWORD does not match!!");
				else if(schoolValue.length<5)
					alert("This doesn't seem to a Valid School Name!");
					else if(addressValue.length<6)
						alert("This doesn't seem to a Valid Address!");
						else if (contactValue == "") 
							alert("You didn't enter a phone number.");
							else if (isNaN(contactValue)) 
								alert("The phone number contains illegal characters.");
								else if (!(contactValue.length == 10)) 
									alert("The phone number is the wrong length. \nPlease enter 10 digit mobile no.");
									else{
										parse();
									}
									
										
  	};
	
</script>						

							
